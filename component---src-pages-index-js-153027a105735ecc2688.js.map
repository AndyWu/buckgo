{"version":3,"sources":["webpack://my-gatsby-site/./src/pages/index.js"],"names":["pageStyles","color","padding","fontFamily","headingStyles","marginBottom","React","csv","setCsv","messages","setMessages","summary","setSummary","style","rows","cols","placeholder","onChange","evt","data","msgs","records","cost","proceeds","currencies","results","target","value","buckgo","year","trim","forEach","c","push","msg","defaultValue","map","m","key"],"mappings":"iJAGMA,EAAa,CACjBC,MAAO,UACPC,QAAS,GACTC,WAAY,4CAGRC,EAAgB,CACpBH,MAAO,UACPI,aAAc,IA8ChB,UAzCkB,WAAO,IAAD,EACAC,WAAe,IAA9BC,EADe,KACVC,EADU,OAEUF,WAAe,IAAxCG,EAFe,KAELC,EAFK,OAGQJ,WAAe,IAAtCK,EAHe,KAGNC,EAHM,KAwBtB,OACE,wBAAMC,MAAOb,GACX,oDACA,sBAAIa,MAAOT,GAAX,oDAGA,kHACA,4BAAUU,KAAK,KAAKC,KAAK,MAAMC,YAjCjB,+OAiC2CC,SAAU,SAACC,GA1BhD,IAACC,EACjBC,EACFC,EACAC,EACAC,EAJ4B,EAM9BC,EACAC,EAPqBN,EA0ByED,EAAIQ,OAAOC,MAzBrGP,EAAO,GACTC,EAAU,GACVC,EAAO,EACPC,EAAW,EAJiB,GAQ5BK,aAAO,CAAEC,KAAM,KAAMV,KAAMA,EAAKW,SAFlCN,EAN8B,EAM9BA,WACAC,EAP8B,EAO9BA,QAEFD,EAAWO,SAAQ,SAAAC,GACjBX,GAAWI,EAAQO,GAAGX,QACtBD,EAAKa,KAAKR,EAAQO,GAAGE,KACrBZ,GAAQG,EAAQO,GAAGV,KACnBC,GAAYE,EAAQO,GAAGT,YAEzBf,EAAO,wEAAwEa,GAC/EX,EAAYU,GACZR,EAAW,gBAAgBU,EAAjB,sBAA2CC,MAUnD,6FACA,4BAAUT,KAAK,KAAKC,KAAK,MAAMoB,aAAc5B,IAC7C,wDACCE,EAAS2B,KAAI,SAAAC,GAAC,OAAI,sBAAIC,IAAKD,GAAIA,MAChC,0BAAK1B","file":"component---src-pages-index-js-153027a105735ecc2688.js","sourcesContent":["import * as React from \"react\"\nimport buckgo from './buckgo'\n\nconst pageStyles = {\n  color: \"#232129\",\n  padding: 10,\n  fontFamily: \"-apple-system, Roboto, sans-serif, serif\",\n}\n\nconst headingStyles = {\n  color: '#ee2222',\n  marginBottom: 10,\n}\n\nconst placeHolder = 'Timestamp,Transaction Type,Asset,Quantity Transacted,USD Spot Price at Transaction,USD Subtotal,USD Total (inclusive of fees),USD Fees,Notes\\n2013-12-12T02:26:51Z,Buy,BTC,1.0,980.91,980.91,990.87,9.96,Bought 1.0000 BTC for $990.87 USD\\n';\n\nconst IndexPage = () => {\n  const [csv, setCsv] = React.useState('');\n  const [messages, setMessages] = React.useState([]);\n  const [summary, setSummary] = React.useState('');\n\n  const handleDataEnter = (data) => {\n    const msgs = [];\n    let records = '';\n    let cost = 0;\n    let proceeds = 0;\n    const {\n      currencies,\n      results,\n    } = buckgo({ year: 2020, data: data.trim() });\n    currencies.forEach(c => {\n      records += results[c].records;\n      msgs.push(results[c].msg);\n      cost += results[c].cost;\n      proceeds += results[c].proceeds;\n    });\n    setCsv(`\"Currency Name\",\"Purchase Date\",\"Cost Basis\",\"Date sold\",\"Proceeds\"\\n${records}`);\n    setMessages(msgs);\n    setSummary(`Total cost: $${cost}, Total proceeds: $${proceeds}`);\n  }\n  return (\n    <main style={pageStyles}>\n      <title>My first Gatsby app</title>\n      <h1 style={headingStyles}>\n        The code is not tested. Use it at your own risk.\n      </h1>\n      <h3>Clean your Coinbase CSV file and paste it here. The content should look like this...</h3>\n      <textarea rows=\"20\" cols=\"100\" placeholder={placeHolder} onChange={(evt) => { handleDataEnter(evt.target.value) }}></textarea>\n      <h3>Copy this to a text editor, save it and import it into TurboTax</h3>\n      <textarea rows=\"20\" cols=\"100\" defaultValue={csv}></textarea>\n      <h3>Total sell records in 2020</h3>\n      {messages.map(m => <h3 key={m}>{m}</h3>)}\n      <h3>{summary}</h3>\n    </main>\n  )\n}\n\nexport default IndexPage\n"],"sourceRoot":""}